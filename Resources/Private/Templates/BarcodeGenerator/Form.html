<div xmlns:f="TYPO3\CMS\Fluid\ViewHelpers" class="container">
    <f:flashMessages />
    <div id="barcodeDiv">
			<div>
				<h3>File input:</h3>
				<div>
					<fieldset>
						<input id="fileInput" type="file" accept="image/*" capture="canvas" />
						<button id="rerunButton" class="btn btn-primary" type="button">Rerun</button>
					</fieldset>
					<img id="fileDivImage" style="width: auto; height: auto; max-width: 100%; max-height: 100%; display: block;" />
				</div>
			</div>
			<div>
				<h3>Camera scanning:</h3>
				<p id="cameraSupport">Checking support...</p>
				<div id="livestreamDiv">
					<fieldset>
						<button id="stopButton" class="btn btn-primary" type="button">Stop</button>
					</fieldset>
					<video id="livestreamVideo" style="width: auto; height: auto; max-width: 100%; max-height: 100%; display: block;"></video>
				</div>
			</div>
    </div>
    <f:form.validationResults>
        <f:if condition="{validationResults.flattenedErrors}">
            <ul class="errors">
                <f:for each="{validationResults.flattenedErrors}" as="errors" key="propertyPath">
                    <li>{propertyPath}
                        <ul>
                            <f:for each="{errors}" as="error">
                                <li>{error.code}: {error}</li>
                            </f:for>
                        </ul>
                    </li>
                </f:for>
            </ul>
        </f:if>
    </f:form.validationResults>
    <f:form method="post" action="submit" name="barcode" object="{barcode}">
        <label for="code">Code</label>
        <f:form.textfield property="code" additionalAttributes="{id: 'codeInput'}" /><br>
        <f:form.submit value="Submit" />
    </f:form>
</div>
